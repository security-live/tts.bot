<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
  <meta charset="UTF-8" />
  <link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@800&display=swap" rel="stylesheet" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login with Twitch</title>
  <style>
    body {
      background-color: #000;
      background-image: url("media/bg.jpg");
      background-position: center center;
      background-size: cover;
      font-family: "Poppins", "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
      font-weight: 300;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .container {
      text-align: center;
    }

    .logo {
      font-family: "Poppins-Bold";
      margin-bottom: 20px;
      font-size: 84px;
      line-height: 80px;
      vertical-align: middle;
      font-weight: 900;
      text-shadow: -6px 8px 12px #000;
    }

    .logo img {
      height: 70px;
      margin-bottom: -10px;
    }

    .login-options {
      width: 100%;
      text-align: left;
    }

    .login-option {
      margin: 10px 0;
    }

    .login-button {
      border: none;
      color: white;
      padding: 20px 20px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
      border-radius: 15px;
      background: rgb(129, 223, 244);
      background: linear-gradient(90deg, rgba(129, 223, 244, 1) 0%, rgba(80, 56, 237, 1) 100%);
      width: 100%;
      /* Full width */
      box-sizing: border-box;
      /* Prevent size miscalculations */
    }

    .login-button:hover {
      background: #fff !important;
      color: #000 !important;
    }

    .footer {
      font-size: 10px;
    }

    h1 {
      text-shadow: 6px 8px 4px rgba(0, 0, 0, 0.25);
    }

    h2 {
      font-weight: 100;
    }

    .copy_logo {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
    }

    .popup {
      position: fixed;
      z-index: 9;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgb(0, 0, 0);
      background-color: rgba(0, 0, 0, 0.4);
    }

    .popup-content {
      background-color: #fefefe;
      margin: 15% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
    }

    .close-btn {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }

    .close-btn:hover,
    .close-btn:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <img class="copy_logo" src="media/profile_image-300x300.png" />

  <div id="voiceRecognitionPopup" class="popup" style="display: none">
    <div class="popup-content">
      <span class="close-btn" onclick="closePopup()">&times;</span>
      <h2>Voice Recognition Test</h2>
      <textarea id="voiceText" placeholder="Start speaking..."></textarea>
    </div>
  </div>

  <div class="container">
    <div class="logo">
      <img src="media/profile_image-300x300.png" />
      tts.bot for <span style="color: #b36aff">Twitch</span>
    </div>

    <h1>
      Access requires a
      <span style="color: #b36aff"><a style="color: #b36aff" href="https://www.twitch.tv/signup"
          target="_blank">Twitch</a></span>
      account.
    </h1>

    <dl class="login-options">
      <div id="dstLangPlaceholder" class="form-group"></div>
      <div id="systemVoicePlaceholder"></div>
      <div id="defaultChatterVoicePlaceholder"></div>
    </dl>

    <h2>Choose your desired capabilities and click authenticate.</h2>
    <dl class="login-options">
      <dd class="login-option">
        <input type="radio" id="moderation" name="capability" value="moderation" onclick="modcap()" checked />
        <label for="moderation">Moderation (Recommended)</label>
      </dd>
      <dd class="login-option">
        <input type="radio" id="chat" name="capability" value="chat" onclick="basiccap()" />
        <label for="chat">Basic Chat</label>
      </dd>
    </dl>

    <div id="vrOptions" style="display: none">
      <h2>Voice Recognition</h2>
      <dl class="login-options">
        <dd class="login-option">
          <input type="checkbox" id="cbVoiceRecogntion" onclick="saveOption(this)" />
          <label for="cbVoiceRecogntion">Enable Voice Recognition</label>
        </dd>
        <button id="testVR" class="login-button btn">
          Test Voice Recognition
        </button>
      </dl>
    </div>

    <button id="loginButton" class="login-button btn">Authenticate</button>
    <div class="footer">
      <p>Super Secure Login<br />Like Banks Have</p>
      <p>*** Voice Recognition is only supported with Chrome ***</p>
      <p>
        <a style="color: #b36aff" href="https://aws.amazon.com/polly/" target="_blank">Powered by Amazon Web Services
          (AWS) API Gateway, Lambda, DynamoDB,
          Polly and Translate</a>
      </p>
    </div>
  </div>
  <script src="aws-sdk.js"></script>
  <script src="awsTranslateLanguages.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous" />

  <script id="system-voice-template" type="text/x-handlebars-template">
      <dt>System Voice Selection: </dt>
      <dd class="clearfix">
        <select
          id="systemVoice"
          class="form-control"
          onchange="systemVoiceSelected(this.value)"
        >
          {{#select voice}}
            {{#each voices.Voices}}
              <option value="{{Id}}">{{Id}}
                ({{LanguageCode}}
                --
                {{LanguageName}})</option>
            {{/each}}
          {{/select}}
        </select>
        <input
          type="hidden"
          size="10"
          name="system-voice-option"
          id="system-voice-option"
          value="{{voice_option}}"
        />
      </dd>
      <div id="systemVoiceOptionPlaceholder"></div>
    </script>

  <script id="system-voice-option-template" type="text/x-handlebars-template">
      <dt></dt>
      <dd class="clearfix">
        <select
          id="systemVoiceOption"
          class="form-control"
          onchange="systemVoiceOptionSelected(this.value)"
        >
          {{#select voiceOption}}
            {{#each voiceOptions}}
              <option value="{{this}}">{{this}}</option>
            {{/each}}
          {{/select}}
        </select>
      </dd>
    </script>

  <script id="default-chatter-voice-template" type="text/x-handlebars-template">
      <dt>Default Chatter Voice Selection: </dt>
      <dd class="clearfix">
        <select
          id="defaultChatterVoice"
          class="form-control"
          onchange="defaultChatterVoiceSelected(this.value)"
        >
          {{#select voice}}
            {{#each voices.Voices}}
              <option value="{{Id}}">{{Id}}
                ({{LanguageCode}}
                --
                {{LanguageName}})</option>
            {{/each}}
          {{/select}}
        </select>
        <input
          type="hidden"
          size="10"
          name="default-chatter-voice-option"
          id="default-chatter-voice-option"
          value="{{voice_option}}"
        />
      </dd>
      <div id="defaultChatterVoiceOptionPlaceholder"></div>
    </script>

  <script id="default-chatter-voice-option-template" type="text/x-handlebars-template">
      <dt></dt>
      <dd class="clearfix">
        <select
          id="defaultChatterVoiceOption"
          class="form-control"
          onchange="defaultChatterVoiceOptionSelected(this.value)"
        >
          {{#select voiceOption}}
            {{#each voiceOptions}}
              <option value="{{this}}">{{this}}</option>
            {{/each}}
          {{/select}}
        </select>
      </dd>
    </script>

  <script id="system-lang-template" type="text/x-handlebars-template">
      <dt>{{name}}</dt>
      <dd class="clearfix">
        <select
          id="{{elementId}}"
          class="form-control"
          onchange="saveLocalStorageLang('{{elementId}}')"
        >
          {{#each langs}}
            <option value="{{@key}}">{{this}}</option>
          {{/each}}
        </select>
      </dd>
    </script>

  <script src="js/login_script.js"></script>
</body>

</html>